<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="robots" content="NOINDEX, NOFOLLOW" />
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <title>Search</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
      var triggle = {
        qs:function(name, url){
          if (!url) url = window.location.href;
          name = name.replace(/[\[\]]/g, "\\$&");
          var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
              results = regex.exec(url);
          if (!results) return null;
          if (!results[2]) return '';
          return decodeURIComponent(results[2].replace(/\+/g, " "));
        },
        contains:function(shortstr,longstr){
          if(longstr.indexOf(shortstr) > -1){
            return true;
          }else{
            return false;
          }
        },
        queried:function(){
          if (!this.qs('q')){
            return false;
          }else{
            return true;
          }
        }
      };

      var app = triggle;

      google.load('search', '1');
      google.setOnLoadCallback(function() {
          var customSearchControl = new google.search.CustomSearchControl('002567983704631955770:la5cjvik5ie');
          customSearchControl.setResultSetSize(20);
          var options = new google.search.DrawOptions();
          options.enableSearchResultsOnly();
          google.search.Csedr.addOverride('shs_');
          customSearchControl.draw('cse', options);
          if (app.queried()){
            customSearchControl.execute(app.qs('q'));
            $('title').html('Search : '+app.qs('q'));
            customSearchControl.setSearchCompleteCallback(
              this,
              function() {
                
              }
            );
          }          
      }, true);

      $(document).ready(function(){
        if (app.queried()){
          $('.sbox').hide();
        }else{
          $('.sbox').show();
        }
        console.log(app.queried());
        console.log(app.qs('q'));
      });

    </script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>  

 <div class="sbox">
  <form class="form-control">
    <input type="text" name="q"/>
  </form>
 </div>


  <div style="display:none">
    <div id="shs_thumbnail">
      <div data-if="Vars.cseThumbnail" class="gs-image-box gs-web-image-box" style="width:90px;text-align:center">
        <a class="gs-image" data-attr="{href:url, target:target}">
          <img class="gs-image" data-attr="{src:cseThumbnail.src, width:85, height: 85}"/>
        </a>
      </div>
    </div>
    <div id="shs_price">
      <span data-if="Vars.hproduct.price" data-body="hproduct.price"></span>
    </div>    
    <div id="shs_webResult">
      <div class="gs-webResult gs-result"
        data-vars="{longUrl:function() {
          var i = unescapedUrl.indexOf(visibleUrl);
          return i < 1 ? visibleUrl : unescapedUrl.substring(i);}}">

              <div class="gs-res-right">
                <div data-if="Vars.richSnippet" data-attr="0" data-body="render('thumbnail',richSnippet,{url:unescapedUrl,target:target})"></div>
                <div class="gs-title">
                  <a class="gs-title" data-attr="{href:unescapedUrl,target:target}"
                    data-body="html(title)"></a>                  
                </div>
                <div class="gs-snippet" data-body="html(content)"></div>
                <div class="gs-visibleUrl gs-visibleUrl-short" data-body="longUrl()"></div>              
                <div data-if="Vars.richSnippet && Vars.richSnippet.action" class="gs-actions"
                  data-body="render('action',richSnippet,{url:unescapedUrl,target:target})">
                </div>
                <!--<div data-if="Vars.richSnippet" class="gs-price" data-body="render('price',richSnippet)"></div>-->
              </div>
     
          <!--<p id="stringy" data-body="JSON.stringify(richSnippet)"></p>-->
      </div>
  </div>
</div>

<div class="serps">  
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <div id="cse"></div>
      </div>
    </div>
  </div>
</div>
</body>
</html>